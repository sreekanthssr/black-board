(this["webpackJsonpblack-board"]=this["webpackJsonpblack-board"]||[]).push([[0],[,,,,,,,,,,,function(e,t,a){e.exports=a(26)},,,,,function(e,t,a){},function(e,t,a){},,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(9),i=a.n(s),o=(a(16),a(2)),c=a(3),l=a(5),u=a(4),h=a(1),p=a(6),m=(a(17),a(7)),v=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).options={},a.options.canvas=e.canvas?e.canvas:null,a._setBrushType(e.brushType),a._setColor(e.color),a._setSize(e.size),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"getBrush",value:function(){var e=this._getBrushProp();this.options.canvas.freeDrawingBrush=new m.fabric[e.brushType](this.options.canvas),this.options.canvas.freeDrawingBrush.color=e.color,this.options.canvas.freeDrawingBrush.width=parseInt(this.options.size,10)||1,this.options.canvas.freeDrawingBrush.shadow=new m.fabric.Shadow({blur:parseInt(e.blur,10)||0,offsetX:0,offsetY:0,affectStroke:!0,color:e.color})}},{key:"_setColor",value:function(e){this.options.color=e||"#000000"}},{key:"_setSize",value:function(e){this.options.size=e?parseInt(e):5}},{key:"_setBrushType",value:function(e){this.options.brushType=e||"pen"}},{key:"setColorSizeBrush",value:function(e,t,a){this._setColor(e),this._setSize(t),this._setBrushType(a),this.setColorSize(e,t)}},{key:"_getBrushProp",value:function(){var e={};switch(this.options.brushType){case"pen":e={brushType:"PencilBrush",blur:5,color:this.options.color};break;case"pencil":e={brushType:"PencilBrush",blur:0,color:this.options.color};break;case"brush":e={brushType:"SprayBrush",blur:10,color:this.options.color};break;case"highlighter":e={brushType:"PencilBrush",blur:2,color:this.options.color+"aa"};break;default:e={brushType:"PencilBrush",blur:1,color:this.options.color}}return e}}]),t}(function(){function e(t){Object(o.a)(this,e),this.cursor=null,this.options={},this.options.canvas=t.canvas?t.canvas:null,this._setColor(t.color),this._setSize(t.size),this._setMouseHandler()}return Object(c.a)(e,[{key:"_setColor",value:function(e){this.options.color=e||"#000000"}},{key:"_setSize",value:function(e){this.options.size=e?parseInt(e):5}},{key:"setColorSize",value:function(e,t){this._setColor(e),this._setSize(t)}},{key:"_setMouseHandler",value:function(){var e=this;this.options.canvas.on("mouse:move",(function(t){e._createCursor(t.pointer),e._showCursor(t.pointer)})),this.options.canvas.on("mouse:out",(function(t){e._removeCursor(t.pointer)}))}},{key:"_createCursor",value:function(e){e&&null===this.cursor&&(this.cursor=new m.fabric.Circle({left:e.x-this.options.size/2,top:e.y-this.options.size/2,radius:this.options.size/2,stroke:this.options.color,strokeWidth:0,fill:this.options.color,customName:"customMouseCursor",hasControls:!1,hasBorders:!1,selectable:!1}),this.options.canvas.add(this.cursor).setActiveObject())}},{key:"_removeCursor",value:function(){var e=this;this.options.canvas.getObjects().forEach((function(t){"customMouseCursor"===t.customName&&(e.options.canvas.remove(t),e.options.canvas.renderAll(),e.cursor=null)}))}},{key:"_showCursor",value:function(e){this.cursor.left=e.x-this.options.size/2,this.cursor.top=e.y-this.options.size/2,this.cursor.setCoords(),this.options.canvas.renderAll()}}]),e}()),d=function(){function e(t){Object(o.a)(this,e),this.cursor=null,this.options={},this.options.canvas=t.canvas?t.canvas:null,this.redoArray=[]}return Object(c.a)(e,[{key:"action",value:function(e){"undo"===e?this._undo():"redo"===e&&this._redo()}},{key:"_undo",value:function(){var e=this.options.canvas.getObjects();if(e&&e.length){var t=e[e.length-1];this._setRedoArray(t),this.options.canvas.remove(t)}}},{key:"_redo",value:function(){this.redoArray&&this.redoArray.length&&(this.options.canvas.add(this.redoArray.pop()),this.options.canvas.renderAll())}},{key:"_setRedoArray",value:function(e){this.redoArray.push(e)}}]),e}(),f=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).fabricBrush=null,a.fabricUndoRedo=null,a.drawingCanvasRef=r.a.createRef(),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.setCanvas(new m.fabric.Canvas("fabricCanvas",{isDrawingMode:!0,backgroundColor:"transparent",freeDrawingCursor:"none"}),(function(t){t.setDimensions({width:"97vw",height:"101vh"},{cssOnly:!0}),e.fabricBrush=new v({canvas:t,color:e.props.color,size:e.props.size,brushType:e.props.brushType}),e.fabricBrush.getBrush(),e.fabricUndoRedo=new d({canvas:t})})),this.props.passRef(this.drawingCanvasRef.current)}},{key:"componentDidUpdate",value:function(){var e=this.props.color,t=this.props.size,a=this.props.brushType;this.fabricBrush&&(this.fabricBrush.setColorSizeBrush(e,t,a),this.fabricBrush.getBrush()),this.fabricUndoRedo&&this.fabricUndoRedo.action(this.props.action)}},{key:"render",value:function(){var e={};return this.props.currentBGImage&&(e.background="url('".concat(this.props.currentBGImage,"') no-repeat center center"),e.backgroundSize="contain"),r.a.createElement("div",{ref:this.drawingCanvasRef,className:"drawing-canvas-main ".concat(this.props.canvasBackground),style:e},r.a.createElement("canvas",{id:"fabricCanvas",width:"600",height:"600"}))}}]),t}(r.a.Component),C=a(10),b=a.n(C),g=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={brushClass:"fa-pen"},a.menuClick=a.menuClick.bind(Object(h.a)(a)),a.setColorAndSize=a.setColorAndSize.bind(Object(h.a)(a)),a.setBrushType=a.setBrushType.bind(Object(h.a)(a)),a.setCurrentColor=a.setCurrentColor.bind(Object(h.a)(a)),a.setCurrentSize=a.setCurrentSize.bind(Object(h.a)(a)),a.setCanvasBackground=a.setCanvasBackground.bind(Object(h.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"menuClick",value:function(e,t){this.props.setCurrentAction(t)}},{key:"setColorAndSize",value:function(e,t,a){this.props.setCurrentColor(a),this.props.setCurrentSize(t)}},{key:"setCurrentSize",value:function(e){this.props.setCurrentSize(e.target.value)}},{key:"setCurrentColor",value:function(e){this.props.setCurrentColor(e.target.value)}},{key:"setBrushType",value:function(e,t){var a="fa-pen";switch(t){case"pencil":a="fa-pencil-alt";break;case"brush":a="fa-paint-brush";break;case"highlighter":a="fa-highlighter";break;default:a="fa-pen"}this.setState({brushClass:a}),this.props.setCurrentBrushType(t)}},{key:"setCanvasBackground",value:function(e,t){this.props.setCurrentCanvasBackground(t)}},{key:"save",value:function(){b()(this.props.drawingCanvasRef,{allowTaint:!0,foreignObjectRendering:!0,useCORS:!0,backgroundColor:null}).then((function(e){var t=document.createElement("a");t.download="Notebook.png",t.href=e.toDataURL("image/png"),t.click()}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"main-menu-container"},r.a.createElement("div",{className:"main-menu"},r.a.createElement("div",{className:"toolList"},r.a.createElement("i",{className:"fa fa-bars"}),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("i",{className:"paper-white-icon ".concat("white"===this.props.canvasBackground?"paper-active":""),onClick:function(t){return e.setCanvasBackground(t,"white")}}),r.a.createElement("div",null,"White paper")),r.a.createElement("li",null,r.a.createElement("i",{className:"paper-ruled-icon ".concat("ruled"===this.props.canvasBackground?"paper-active":""),onClick:function(t){return e.setCanvasBackground(t,"ruled")}}),r.a.createElement("div",null,"Ruled paper")),r.a.createElement("li",null,r.a.createElement("i",{className:"paper-landscape-icon ".concat("landscape"===this.props.canvasBackground?"paper-active":""),onClick:function(t){return e.setCanvasBackground(t,"landscape")}}),r.a.createElement("div",null,"Landscape paper")),r.a.createElement("li",null,r.a.createElement("i",{className:"paper-gird-icon ".concat("gird"===this.props.canvasBackground?"paper-active":""),onClick:function(t){return e.setCanvasBackground(t,"grid")}}),r.a.createElement("div",null,"Grid paper")),r.a.createElement("li",null,r.a.createElement("i",{className:"fa fa-image ".concat("image"===this.props.canvasBackground?"paper-active":""),onClick:function(t){return e.setCanvasBackground(t,"image")}}),r.a.createElement("div",null,"Custom Image")))),r.a.createElement("div",null,r.a.createElement("i",{className:"fa fa-save",onClick:function(t){return e.save(t,"save")}})),r.a.createElement("div",null,r.a.createElement("i",{className:"fa fa-undo",onClick:function(t){return e.menuClick(t,"undo")}})),r.a.createElement("div",null,r.a.createElement("i",{className:"fa fa-redo",onClick:function(t){return e.menuClick(t,"redo")}})),r.a.createElement("div",null,r.a.createElement("i",{className:"fa fa-file",onClick:function(t){return e.menuClick(t,"new")}})),r.a.createElement("div",null,r.a.createElement("i",{className:"fa fa-sliders-h",onClick:function(t){return e.menuClick(t,"setting")}})),r.a.createElement("div",{className:"pageName"},r.a.createElement("span",null,"Name")),r.a.createElement("div",null,r.a.createElement("i",{className:"fa fa-circle fa-circle-small black ".concat("#000000"===this.props.color&&"5"===this.props.size?"active":""),onClick:function(t){return e.setColorAndSize(t,"5","#000000")}})),r.a.createElement("div",null,r.a.createElement("i",{className:"fa fa-circle fa-circle-small red ".concat("#F00"===this.props.color&&"5"===this.props.size?"active":""),onClick:function(t){return e.setColorAndSize(t,"5","#F00")}})),r.a.createElement("div",null,r.a.createElement("i",{className:"fa fa-circle fa-circle-small green ".concat("#0F0"===this.props.color&&"5"===this.props.size?"active":""),onClick:function(t){return e.setColorAndSize(t,"5","#0F0")}})),r.a.createElement("div",null,r.a.createElement("i",{className:"fa fa-circle fa-circle-small blue ".concat("#00F"===this.props.color&&"5"===this.props.size?"active":""),onClick:function(t){return e.setColorAndSize(t,"5","#00F")}})),r.a.createElement("div",null,r.a.createElement("i",{className:"fa fa-circle fa-circle-big cyan ".concat("#009999"===this.props.color&&"30"===this.props.size?"active":""),onClick:function(t){return e.setColorAndSize(t,"30","#009999")}})),r.a.createElement("div",null,r.a.createElement("i",{className:"fa fa-circle fa-circle-big orang ".concat("#ff6600"===this.props.color&&"30"===this.props.size?"active":""),onClick:function(t){return e.setColorAndSize(t,"30","#ff6600")}})),r.a.createElement("div",null,r.a.createElement("i",{className:"fa fa-circle fa-circle-big yellow ".concat("#FFFF00"===this.props.color&&"30"===this.props.size?"active":""),onClick:function(t){return e.setColorAndSize(t,"30","#FFFF00")}})),r.a.createElement("div",{className:"toolList"},r.a.createElement("span",{className:"size-span"},this.props.size),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("input",{type:"range",value:this.props.size,className:"size-picker",min:"1",max:"50",onChange:function(t){return e.setCurrentSize(t)}})))),r.a.createElement("div",null,r.a.createElement("input",{className:"color-picker",style:{color:this.props.color},type:"color",value:this.props.color,onChange:function(t){return e.setCurrentColor(t)}})),r.a.createElement("div",{className:"toolList"},r.a.createElement("i",{className:"fa ".concat(this.state.brushClass)}),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("i",{className:"fa fa-pen",onClick:function(t){return e.setBrushType(t,"pen")}}),r.a.createElement("div",null,"Pen")),r.a.createElement("li",null,r.a.createElement("i",{className:"fa fa-pencil-alt",onClick:function(t){return e.setBrushType(t,"pencil")}}),r.a.createElement("div",null,"Pencil")),r.a.createElement("li",null,r.a.createElement("i",{className:"fa fa-paint-brush",onClick:function(t){return e.setBrushType(t,"brush")}}),r.a.createElement("div",null,"Brush")),r.a.createElement("li",null,r.a.createElement("i",{className:"fa fa-highlighter",onClick:function(t){return e.setBrushType(t,"highlighter")}}),r.a.createElement("div",null,"Highlighter")))),r.a.createElement("div",null,r.a.createElement("i",{className:"fa fa-eraser",onClick:function(t){return e.menuClick(t,"eraser")}})),r.a.createElement("div",null,r.a.createElement("i",{className:"fa fa-object-group",onClick:function(t){return e.menuClick(t,"select-area")}}))))}}]),t}(r.a.Component),k=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).imageSelected=a.imageSelected.bind(Object(h.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"imageSelected",value:function(e){this.props.setCurrentBGImage(URL.createObjectURL(e.target.files[0]))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"upload-file"},r.a.createElement("input",{id:"canvasBackgroundImage",onChange:function(t){return e.imageSelected(t)},type:"file",accept:"image/*",className:"hide"}),r.a.createElement("label",{htmlFor:"canvasBackgroundImage"},"Select Image"))}}]),t}(r.a.Component),B=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).close=a.close.bind(Object(h.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"close",value:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),e.target.classList.contains("model-box")&&this.props.closeCallBack(null)}},{key:"render",value:function(){var e=this;return this.props.show?r.a.createElement("div",{className:"model-box",onClick:function(t){return e.close(t)}},r.a.createElement("div",{className:"model-box-body"},this.props.children)):""}}]),t}(r.a.Component),y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={canvas:null,currentColor:"#000000",currentSize:5,currentBrushType:"pen",currentCanvasBackground:"ruled",currentBGImage:"",showImageUploadBox:!1,drawingCanvasRef:null,currentAction:null},a.setCanvas=a.setCanvas.bind(Object(h.a)(a)),a.setCurrentBrushType=a.setCurrentBrushType.bind(Object(h.a)(a)),a.setCurrentSize=a.setCurrentSize.bind(Object(h.a)(a)),a.setCurrentColor=a.setCurrentColor.bind(Object(h.a)(a)),a.setCurrentCanvasBackground=a.setCurrentCanvasBackground.bind(Object(h.a)(a)),a.setCurrentBGImage=a.setCurrentBGImage.bind(Object(h.a)(a)),a.passRef=a.passRef.bind(Object(h.a)(a)),a.setCurrentAction=a.setCurrentAction.bind(Object(h.a)(a)),a.oldCanvasBackground={image:"",type:"ruled"},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"setCanvas",value:function(e,t){var a=this;this.setState({canvas:e},(function(){t(a.state.canvas)}))}},{key:"setCurrentBrushType",value:function(e){this.setState({currentBrushType:e})}},{key:"setCurrentColor",value:function(e){this.setState({currentColor:e})}},{key:"setCurrentSize",value:function(e){this.setState({currentSize:e})}},{key:"setCurrentCanvasBackground",value:function(e){this.oldCanvasBackground.type=this.state.currentCanvasBackground,this.setState({currentCanvasBackground:e}),"image"===e&&this.setState({showImageUploadBox:!0})}},{key:"setCurrentBGImage",value:function(e){this.oldCanvasBackground.image=this.state.currentBGImage,e?this.setState({currentBGImage:e,showImageUploadBox:!1}):this.setState({currentBGImage:this.oldCanvasBackground.image,currentCanvasBackground:this.oldCanvasBackground.type,showImageUploadBox:!1})}},{key:"passRef",value:function(e){this.setState({drawingCanvasRef:e})}},{key:"setCurrentAction",value:function(e){this.setState({currentAction:e})}},{key:"render",value:function(){return r.a.createElement("div",{className:"main-container"},r.a.createElement(g,{setCurrentBrushType:this.setCurrentBrushType,setCurrentSize:this.setCurrentSize,setCurrentColor:this.setCurrentColor,setCurrentCanvasBackground:this.setCurrentCanvasBackground,setCurrentAction:this.setCurrentAction,color:this.state.currentColor,size:this.state.currentSize,canvasBackground:this.state.currentCanvasBackground,drawingCanvasRef:this.state.drawingCanvasRef}),r.a.createElement(f,{setCanvas:this.setCanvas,canvas:this.state.canvas,color:this.state.currentColor,size:this.state.currentSize,brushType:this.state.currentBrushType,canvasBackground:this.state.currentCanvasBackground,currentBGImage:this.state.currentBGImage,passRef:this.passRef,action:this.state.currentAction}),r.a.createElement(B,{show:this.state.showImageUploadBox,closeCallBack:this.setCurrentBGImage},r.a.createElement(k,{setCurrentBGImage:this.setCurrentBGImage})))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[11,1,2]]]);
//# sourceMappingURL=main.370b6155.chunk.js.map