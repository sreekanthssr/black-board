{"version":3,"sources":["lib/fabric-brush.js","lib/fabric-mouse-cursor.js","lib/fabric-operations.js","component/fabric-component.js","component/main-menu-component.js","component/image-upload-component.js","component/import-json-component.js","component/custom-modal-component.js","component/confirm-box-component.js","App.js","serviceWorker.js","index.js"],"names":["FabricBrush","options","canvas","_setBrushType","brushType","_setColor","color","_setSize","size","brush","this","_getBrushProp","freeDrawingBrush","fabric","width","parseInt","shadow","Shadow","blur","offsetX","offsetY","affectStroke","setColorSize","cursor","_setMouseHandler","on","e","_createCursor","pointer","_showCursor","_removeCursor","Circle","left","x","top","y","radius","stroke","strokeWidth","fill","customName","hasControls","hasBorders","selectable","add","setActiveObject","getObjects","forEach","obj","remove","renderAll","setCoords","FabricOperations","redoArray","type","param","_undo","_redo","_claerAll","_save","_open","object","length","lastObject","_setRedoArray","pop","push","clear","date","Date","getDate","getMonth","getFullYear","getHours","getMinutes","getSeconds","canvasJson","toDatalessJSON","link","document","createElement","download","_getFormatedDate","href","encodeURIComponent","JSON","stringify","click","file","reader","FileReader","onload","event","json","parse","target","result","objects","loadFromJSON","readAsText","console","log","FabricComponent","props","fabricBrush","fabricOperationsObj","drawingCanvasRef","React","createRef","setCanvas","Canvas","isDrawingMode","backgroundColor","freeDrawingCursor","setDimensions","height","cssOnly","getBrush","passRef","current","setColorSizeBrush","action","importJson","currrentBGImageStyle","currentBGImage","background","backgroundSize","ref","className","canvasBackground","style","id","Component","MainMenuComponent","state","menuClick","bind","setColorAndSize","setBrushType","setCurrentColor","setCurrentSize","setCanvasBackground","setCurrentAction","value","brushClass","setState","setCurrentBrushType","setCurrentCanvasBackground","html2canvas","allowTaint","foreignObjectRendering","useCORS","then","toDataURL","onClick","min","max","onChange","ImageUploadComponent","setCurrentBGImage","accept","htmlFor","ImportJsonComponent","setImportJson","customModalComponent","close","stopPropagation","nativeEvent","stopImmediatePropagation","classList","contains","closeCallBack","show","children","ConfirmBoxComponent","dummy","messgae","button1CallBack","button1","button2","button2Callback","App","currentColor","currentSize","currentBrushType","currentCanvasBackground","showImageUploadBox","currentAction","saveConfirmFlag","importJsonFlag","oldCanvasBackground","image","done","files","URL","createObjectURL","overWriteCheck","checkCanvasUpdated","setSaveConfirmFlag","Boolean","window","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.e8d688cb.chunk.js","sourcesContent":["import {fabric} from 'fabric';\nimport fabricMouseCursor from './fabric-mouse-cursor';\n\nexport default class FabricBrush extends fabricMouseCursor{\n    constructor(options){ \n        super(options);  \n        this.options = {};\n        this.options.canvas = (options.canvas) ? options.canvas : null;\n        this._setBrushType(options.brushType);\n        this._setColor(options.color);\n        this._setSize(options.size);        \n    }\n\n    getBrush(){\n        let brush = this._getBrushProp();\n        this.options.canvas.freeDrawingBrush = new fabric[brush.brushType](this.options.canvas);\n        \n        this.options.canvas.freeDrawingBrush.color = brush.color;\n        this.options.canvas.freeDrawingBrush.width = parseInt(this.options.size, 10) || 1;\n        this.options.canvas.freeDrawingBrush.shadow = new fabric.Shadow({\n            blur: parseInt(brush.blur, 10) || 0,\n            offsetX: 0,\n            offsetY: 0,\n            affectStroke: true,\n            color: brush.color,\n        });\n    }\n\n    _setColor(color){\n        this.options.color = (color) ? color : '#000000';\n    }\n\n    _setSize(size){\n        this.options.size = (size) ? parseInt(size) : 5;\n    }\n    \n    _setBrushType(brushType){\n        this.options.brushType = (brushType) ? brushType : 'pen';\n    }\n\n    setColorSizeBrush(color, size, brushType){\n        this._setColor(color);\n        this._setSize(size);\n        this._setBrushType(brushType);\n        this.setColorSize(color, size);\n    }\n\n    _getBrushProp(){\n        /*\"BaseBrush\", \"PencilBrush\", \"CircleBrush\", \"SprayBrush\", \"PatternBrush\"*/\n        let brush = {};\n        switch(this.options.brushType){\n            case 'pen':\n                brush = {brushType : \"PencilBrush\", blur : 5, color : this.options.color};\n                break;\n            case 'pencil':\n                brush = {brushType : \"PencilBrush\", blur : 0, color : this.options.color};\n                break;\n            case 'brush':\n                brush = {brushType : \"SprayBrush\", blur : 10, color : this.options.color};\n                break;\n            case 'highlighter':\n                brush = {brushType : \"PencilBrush\", blur : 2, color : this.options.color+'aa'};\n                break;\n            default:\n                brush = {brushType : \"PencilBrush\", blur : 1, color : this.options.color};\n        }\n        return brush;\n    }\n}","import {fabric} from 'fabric';\n\nexport default class fabricMouseCursor {\n    constructor(options){  \n        this.cursor = null; \n        this.options = {};\n        this.options.canvas = (options.canvas) ? options.canvas : null;\n        this._setColor(options.color);\n        this._setSize(options.size);\n        this._setMouseHandler();\n        \n    }\n\n    _setColor(color){\n        this.options.color = (color) ? color : '#000000';\n    }\n\n    _setSize(size){\n        this.options.size = (size) ? parseInt(size) : 5;\n    }\n\n    setColorSize(color, size){\n        this._setColor(color);\n        this._setSize(size);\n    }\n\n    _setMouseHandler(){\n        this.options.canvas.on(\"mouse:move\", (e) =>{\n            this._createCursor(e.pointer);\n            this._showCursor(e.pointer);\n        });\n        this.options.canvas.on(\"mouse:out\", (e) =>{\n            this._removeCursor(e.pointer);\n        });\n    }\n\n    _createCursor(pointer){\n        if(pointer && this.cursor === null){\n            this.cursor = new fabric.Circle({\n                left:pointer.x - this.options.size/2,\n                top:pointer.y - this.options.size/2,                \n                radius:this.options.size/2,\n                stroke:this.options.color,\n                strokeWidth:0,\n                fill:this.options.color,\n                customName : 'customMouseCursor',\n                hasControls : false,\n                hasBorders : false,\n                selectable : false\n            });\n            this.options.canvas.add(this.cursor).setActiveObject();\n        }\n        \n    }\n\n    _removeCursor(){\n        this.options.canvas.getObjects().forEach((obj) =>{\n            if(obj.customName === 'customMouseCursor'){\n                this.options.canvas.remove(obj);\n                this.options.canvas.renderAll();\n                this.cursor = null;\n            }\n        });\n    }\n    _showCursor(pointer){\n        this.cursor.left = pointer.x- this.options.size/2;\n        this.cursor.top = pointer.y - this.options.size/2;\n        this.cursor.setCoords();\n        this.options.canvas.renderAll();\n    }\n}","export default class FabricOperations {\n    constructor(options){  \n        this.cursor = null; \n        this.options = {};\n        this.options.canvas = (options.canvas) ? options.canvas : null;\n        this.redoArray = [];\n    }\n\n    action(type, param){\n        switch(type){\n            case 'undo':\n                this._undo();\n                break;\n            case 'redo':\n                this._redo();\n                break;\n            case 'new':\n                this._claerAll();\n                break;\n            case 'save':\n                this._save();\n                break;\n            case 'open':\n                this._open(param);\n                break;\n            default:\n        }\n\n    }\n\n    _undo(){\n        let object = this.options.canvas.getObjects();\n        if(object && object.length){\n            let lastObject = object[object.length-1];\n            this._setRedoArray(lastObject);\n            this.options.canvas.remove(lastObject);\n        }\n        \n    }\n\n    _redo(){\n        if(this.redoArray && this.redoArray.length){\n            this.options.canvas.add(this.redoArray.pop());\n            this.options.canvas.renderAll();\n        }\n    }\n\n    _setRedoArray(object){\n        this.redoArray.push(object);\n    }\n\n    _claerAll(){\n        if(this.options.canvas){\n            this.redoArray.length = 0;\n            this.options.canvas.clear();\n        }\n        \n    }\n\n    _getFormatedDate(){\n        let date = new Date();\n        return `${date.getDate()}-${date.getMonth()+1}-${date.getFullYear()}-${date.getHours()}-${date.getMinutes()}-${date.getSeconds()}`;\n    }\n\n    _save(){\n        if(this.options.canvas && this.options.canvas.getObjects().length){\n            let canvasJson = this.options.canvas.toDatalessJSON();\n            let link = document.createElement(\"a\");\n            link.download = `Notebook-${this._getFormatedDate()}.json`;\n            link.href = \"data:text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(canvasJson));\n            link.click();\n        }\n    }\n\n    _open(file){\n        if(this.options.canvas && file){\n            this._claerAll();\n            try{\n                \n                    let reader = new FileReader();\n                    reader.onload = (event)=>{\n                        let json = JSON.parse(event.target.result);\n                        if(json.objects){\n                            this.options.canvas.loadFromJSON(json, (obj) =>{\n                                this.options.canvas.renderAll();\n                            });\n                        }\n                    };\n                    reader.readAsText(file);\n\n                \n            }catch(e){\n                console.log(e);\n            }\n            \n        }\n    }\n}","import React from \"react\";\nimport {fabric} from 'fabric';\nimport FabricBrush from '../lib/fabric-brush';\nimport FabricOperations from '../lib/fabric-operations';\n\nexport default class FabricComponent extends React.Component{\n    constructor(props){\n        super(props);\n        this.fabricBrush = null;\n        this.fabricOperationsObj = null;\n        this.drawingCanvasRef = React.createRef();\n    }\n    \n    componentDidMount(){\n        this.props.setCanvas(new fabric.Canvas('fabricCanvas', {\n            isDrawingMode: true,\n            backgroundColor: \"transparent\",\n            freeDrawingCursor : 'none'\n        }),(canvas) =>{\n           canvas.setDimensions({width: '97vw', height: '101vh'}, {cssOnly: true});\n           this.fabricBrush = new FabricBrush({\n                canvas : canvas,\n                color : this.props.color,\n                size: this.props.size,\n                brushType: this.props.brushType\n            });\n            this.fabricBrush.getBrush();\n            this.fabricOperationsObj = new FabricOperations({canvas : canvas});\n        });\n        this.props.passRef(this.drawingCanvasRef.current);\n    }\n\n    componentDidUpdate(){\n        let color = this.props.color;\n        let size = this.props.size;\n        let brushType = this.props.brushType;\n        if(this.fabricBrush){\n            this.fabricBrush.setColorSizeBrush(color, size, brushType);\n            this.fabricBrush.getBrush();\n        }\n        if(this.fabricOperationsObj){\n            this.fabricOperationsObj.action(this.props.action, this.props.importJson);\n        }\n        \n    }\n\n    render(){\n        let currrentBGImageStyle = {};\n        if(this.props.currentBGImage){\n            currrentBGImageStyle.background = `url('${this.props.currentBGImage}') no-repeat center center`;\n            currrentBGImageStyle.backgroundSize = 'contain';\n        }\n        return(\n            <div ref={this.drawingCanvasRef} className={`drawing-canvas-main ${this.props.canvasBackground}`} style={currrentBGImageStyle}>\n                <canvas id=\"fabricCanvas\" width={'600'} height={'600'}></canvas>\n            </div>\n        );\n    }\n}","import React from 'react';\nimport html2canvas from 'html2canvas';\n\nexport default class MainMenuComponent extends React.Component\n{\n    constructor(props){\n        super(props);\n        this.state = {\"brushClass\" : 'fa-pen'};\n        this.menuClick = this.menuClick.bind(this);\n        this.setColorAndSize = this.setColorAndSize.bind(this);\n        this.setBrushType = this.setBrushType.bind(this);        \n        this.setCurrentColor = this.setCurrentColor.bind(this);        \n        this.setCurrentSize = this.setCurrentSize.bind(this);\n        this.setCanvasBackground = this.setCanvasBackground.bind(this);\n    }\n\n    menuClick(e,type){\n        this.props.setCurrentAction(type);\n    }    \n\n    setColorAndSize(e,size,color){\n        this.props.setCurrentColor(color);        \n        this.props.setCurrentSize(size);\n    }\n\n    setCurrentSize(e){             \n        this.props.setCurrentSize(e.target.value);\n    }\n\n    setCurrentColor(e){\n        this.props.setCurrentColor(e.target.value); \n    }\n\n    setBrushType(e,brush){\n        let brushClass = 'fa-pen';\n        switch(brush){\n            case 'pencil':\n                brushClass = 'fa-pencil-alt';\n                break;\n            case 'brush':\n                brushClass = 'fa-paint-brush';\n                break;               \n            case 'highlighter':\n                brushClass = 'fa-highlighter';                   \n                break;\n            default:\n                brushClass = 'fa-pen';\n        }\n        this.setState({brushClass});\n        this.props.setCurrentBrushType(brush);\n    }\n\n    setCanvasBackground(e,canvasBackground){\n        this.props.setCurrentCanvasBackground(canvasBackground);\n    }\n\n    download(){\n            html2canvas(this.props.drawingCanvasRef,\n                {\n                    allowTaint : true,\n                    foreignObjectRendering : true,\n                    useCORS: true,\n                    backgroundColor: null\n                })\n                .then((canvas)=>{\n                let link = document.createElement(\"a\");\n                    link.download = \"Notebook.png\";\n                    link.href = canvas.toDataURL(\"image/png\");\n                    link.click();\n            });\n    }\n\n    render(){\n        return(\n            <div className=\"main-menu-container\">\n                <div className=\"main-menu\">\n                    <div className=\"toolList\">\n                        <i className=\"fa fa-bars\"></i>\n                        <ul>\n                            <li><i className={`paper-white-icon ${(this.props.canvasBackground === 'white')? 'paper-active' : ''}`} onClick={(e) => this.setCanvasBackground(e,'white')}></i><div>White paper</div></li>\n                            <li><i className={`paper-ruled-icon ${(this.props.canvasBackground === 'ruled') ? 'paper-active' : ''}`} onClick={(e) => this.setCanvasBackground(e,'ruled')}></i><div>Ruled paper</div></li>\n                            <li><i className={`paper-landscape-icon ${(this.props.canvasBackground === 'landscape') ? 'paper-active' : ''}`} onClick={(e) => this.setCanvasBackground(e,'landscape')}></i><div>Landscape paper</div></li>\n                            <li><i className={`paper-gird-icon ${(this.props.canvasBackground === 'gird') ? 'paper-active' : ''}`} onClick={(e) => this.setCanvasBackground(e,'grid')}></i><div>Grid paper</div></li>\n                            <li><i className={`fa fa-image ${(this.props.canvasBackground === 'image') ? 'paper-active' : ''}`} onClick={(e) => this.setCanvasBackground(e,'image')}></i><div>Custom Image</div></li>\n                        </ul>\n                    </div>\n                    <div><i className=\"fa fa-file\" onClick={(e) => this.menuClick(e,'new')}></i></div>\n                    <div><i className=\"fa fa-save\" onClick={(e) => this.menuClick(e,'save')}></i></div>\n                    <div><i className=\"fa fa-file-import\" onClick={(e) => this.menuClick(e,'open')}></i></div> \n                    <div><i className=\"fa fa-download\" onClick={(e) => this.download(e,'download')}></i></div>\n                    <div><i className=\"fa fa-undo\" onClick={(e) => this.menuClick(e,'undo')}></i></div>\n                    <div><i className=\"fa fa-redo\" onClick={(e) => this.menuClick(e,'redo')}></i></div>\n                    {/* <div><i className=\"fa fa-paste\" onClick={(e) => this.menuClick(e,'paste')}></i></div> \n                     <div><i className=\"fa fa-sliders-h\" onClick={(e) => this.menuClick(e,'setting')}></i></div> */}\n                    <div className=\"pageName\"><span>Notebook</span></div>\n                    <div><i className={`fa fa-circle fa-circle-small black ${(this.props.color === '#000000' && this.props.size === '5') ? 'active' : ''}`} onClick={(e) => this.setColorAndSize(e,'5','#000000')}></i></div>\n                    <div><i className={`fa fa-circle fa-circle-small red ${(this.props.color === '#F00' && this.props.size === '5') ? 'active' : ''}`} onClick={(e) => this.setColorAndSize(e,'5','#F00')}></i></div>\n                    <div><i className={`fa fa-circle fa-circle-small green ${(this.props.color === '#0F0' && this.props.size === '5') ? 'active' : ''}`} onClick={(e) => this.setColorAndSize(e,'5','#0F0')}></i></div>\n                    <div><i className={`fa fa-circle fa-circle-small blue ${(this.props.color === '#00F' && this.props.size === '5') ? 'active' : ''}`} onClick={(e) => this.setColorAndSize(e,'5','#00F')}></i></div>\n                    <div><i className={`fa fa-circle fa-circle-big cyan ${(this.props.color === '#009999' && this.props.size === '30') ? 'active' : ''}`} onClick={(e) => this.setColorAndSize(e,'30','#009999')}></i></div>\n                    <div><i className={`fa fa-circle fa-circle-big orang ${(this.props.color === '#ff6600' && this.props.size === '30') ? 'active' : ''}`} onClick={(e) => this.setColorAndSize(e,'30','#ff6600')}></i></div>\n                    <div><i className={`fa fa-circle fa-circle-big yellow ${(this.props.color === '#FFFF00' && this.props.size === '30') ? 'active' : ''}`} onClick={(e) => this.setColorAndSize(e,'30','#FFFF00')}></i></div>\n                    <div className=\"toolList\">\n                        <span className=\"size-span\">{this.props.size}</span>\n                        <ul>\n                            <li><input type=\"range\" value={this.props.size} className=\"size-picker\" min=\"1\" max=\"50\" onChange={(e) => this.setCurrentSize(e)}/></li>\n                        </ul>\n                    </div>\n                    <div>\n                        <input className=\"color-picker\"  style={{color:this.props.color}} type=\"color\" value={this.props.color}  onChange={(e) => this.setCurrentColor(e)}/>\n                    </div>\n                    <div className=\"toolList\">\n                        <i className={`fa ${this.state.brushClass}`}></i>\n                        <ul>\n                            <li><i className=\"fa fa-pen\" onClick={(e) => this.setBrushType(e,'pen')}></i><div>Pen</div></li>\n                            <li><i className=\"fa fa-pencil-alt\" onClick={(e) => this.setBrushType(e,'pencil')}></i><div>Pencil</div></li>\n                            <li><i className=\"fa fa-paint-brush\" onClick={(e) => this.setBrushType(e,'brush')}></i><div>Brush</div></li>\n                            <li><i className=\"fa fa-highlighter\" onClick={(e) => this.setBrushType(e,'highlighter')}></i><div>Highlighter</div></li>\n                        </ul>\n                    </div>\n                    <div><i className=\"fa fa-eraser\" onClick={(e) => this.menuClick(e,'eraser')}></i></div>\n                    <div><i className=\"fa fa-object-group\" onClick={(e) => this.menuClick(e,'select-area')}></i></div>\n                    </div>\n            </div>\n            \n        );\n    }\n}","import React from \"react\";\n\n\n\nexport default class ImageUploadComponent extends React.Component{\n    render(){\n        return (<div className=\"upload-file\">\n                    <input id=\"canvasBackgroundImage\" onChange={(e) => this.props.setCurrentBGImage(e)} type=\"file\" accept=\"image/*\" className=\"hide\"/>\n                    <label htmlFor=\"canvasBackgroundImage\">Select Image</label>\n                </div>)\n    }\n}","import React from \"react\";\n\nexport default class ImportJsonComponent extends React.Component{\n    render(){\n        return (<div className=\"upload-file\">\n                    <input id=\"importJsonInput\" onChange={(e) => this.props.setImportJson(e)} type=\"file\" accept=\"application/JSON\" className=\"hide\"/>\n                    <label htmlFor=\"importJsonInput\">Select JSON file</label>\n                </div>)\n    }\n}","import React from 'react';\n\nexport default class customModalComponent extends React.Component {\n\n    constructor(props){\n        super(props);\n        this.close = this.close.bind(this);\n    }\n\n    close(e){\n        e.stopPropagation();\n        e.nativeEvent.stopImmediatePropagation();\n        if (e.target.classList.contains('model-box')) {\n            this.props.closeCallBack(null);\n        }\n    }\n\n    render() {\n        if(this.props.show){\n            return (<div className='model-box' onClick={(e) => this.close(e)}>\n                <div className=\"model-box-body\">\n                    {this.props.children}\n                </div>\n            </div> );\n        } else {\n            return '';\n        }\n        \n    }\n    \n}","import React from 'react';\n\nexport default class ConfirmBoxComponent extends React.Component {\n    constructor(props){\n        super(props);\n        this.dummy = this.dummy.bind(this);\n    }\n    dummy(){\n\n    }\n    render(){\n        return (<div className=\"\">\n                    <div>{(this.props.messgae) ? this.props.messgae : 'Message here'}</div>\n                    <div>\n                        <button onClick={this.props.button1CallBack ? this.props.button1CallBack : ()=>{}}>\n                        {this.props.button1 ? this.props.button1 : 'OK'}\n                        </button>\n                        {\n                            (this.props.button2) && <button onClick={this.props.button2Callback ? this.props.button2Callback : ()=>{} }>\n                                    {this.props.button2 }\n                            </button>\n                        }\n                    </div>\n                </div>)\n    }\n}","import React from 'react';\nimport './App.scss';\n\n\nimport FabricComponent from './component/fabric-component';\nimport MainMenuComponent from './component/main-menu-component';\nimport ImageUploadComponent from './component/image-upload-component';\nimport ImportJsonComponent from './component/import-json-component';\nimport CustomModalComponent from './component/custom-modal-component';\nimport ConfirmBoxComponent from './component/confirm-box-component';\n\n\nclass App extends React.Component{\n  constructor(props) {\n    super(props);\n    this.state = {canvas : null, currentColor : '#000000', currentSize : 5,  currentBrushType : 'pen', currentCanvasBackground : 'ruled', currentBGImage:'',showImageUploadBox : false, drawingCanvasRef : null,currentAction : null, saveConfirmFlag : false, importJsonFlag : false, importJson : null };\n    this.setCanvas = this.setCanvas.bind(this);\n    this.setCurrentBrushType = this.setCurrentBrushType.bind(this);\n    this.setCurrentSize = this.setCurrentSize.bind(this);\n    this.setCurrentColor = this.setCurrentColor.bind(this);\n    this.setCurrentCanvasBackground = this.setCurrentCanvasBackground.bind(this);\n    this.setCurrentBGImage = this.setCurrentBGImage.bind(this);\n    this.passRef = this.passRef.bind(this);\n    this.setCurrentAction = this.setCurrentAction.bind(this);\n    this.setImportJson = this.setImportJson.bind(this);\n    this.oldCanvasBackground = {image:'',type:'ruled'};\n  }\n\n  setCanvas(canvas,done){\n    this.setState({\n      canvas\n    }, () =>{\n      done(this.state.canvas);\n    });\n  }\n\n  setCurrentBrushType(currentBrushType){\n    this.setState({currentBrushType});\n  }\n\n  setCurrentColor(currentColor){\n    this.setState({currentColor});\n  }\n  \n  setCurrentSize(currentSize){\n    this.setState({currentSize});\n  }\n  \n  setCurrentCanvasBackground(currentCanvasBackground){\n    this.oldCanvasBackground.type = this.state.currentCanvasBackground;\n    this.setState({currentCanvasBackground});\n    if(currentCanvasBackground  === 'image'){\n      this.setState({showImageUploadBox : true});\n    }\n  }\n\n  setCurrentBGImage(e){\n    this.oldCanvasBackground.image = this.state.currentBGImage;\n    if(e && e.target && e.target.files){\n      this.setState({currentBGImage : URL.createObjectURL(e.target.files[0]), showImageUploadBox:false});\n    } else {\n      this.setState({currentBGImage:this.oldCanvasBackground.image,currentCanvasBackground:this.oldCanvasBackground.type, showImageUploadBox:false});\n    }\n    \n  }\n \n  passRef(drawingCanvasRef){\n    this.setState({drawingCanvasRef});\n  }\n\n  checkCanvasUpdated(){\n    return (this.state.canvas && this.state.canvas.getObjects().length >1);\n  }\n\n  setCurrentAction(currentAction,overWriteCheck){\n    this.setState({saveConfirmFlag : false});\n    switch(currentAction){\n      case 'new':\n        (this.checkCanvasUpdated() && !overWriteCheck) ? this.setState({saveConfirmFlag : true}) : this.setState({currentAction});\n        break;\n      case 'open':\n        this.setState({importJsonFlag : true});\n        break;\n      default: \n        this.setState({currentAction});\n    }\n  }\n\n  setSaveConfirmFlag(saveConfirmFlag){\n    this.setState({saveConfirmFlag});\n  }\n\n  setImportJson(e){\n    if(e && e.target && e.target.files){\n      this.setState({importJson : e.target.files[0], importJsonFlag:false, currentAction: 'open'});\n    } else {\n      this.setState({ importJsonFlag:false});\n    }\n      \n  }\n\n  render(){\n    return (<div className=\"main-container\">\n      <MainMenuComponent  setCurrentBrushType = {this.setCurrentBrushType} \n                          setCurrentSize = {this.setCurrentSize} \n                          setCurrentColor = {this.setCurrentColor}\n                          setCurrentCanvasBackground = {this.setCurrentCanvasBackground}\n                          setCurrentAction = {this.setCurrentAction}\n                          color={this.state.currentColor}\n                          size={this.state.currentSize}\n                          canvasBackground={this.state.currentCanvasBackground}\n                          drawingCanvasRef = {this.state.drawingCanvasRef}\n\n      />\n\n      <FabricComponent  setCanvas={this.setCanvas} \n                        canvas={this.state.canvas} \n                        color={this.state.currentColor} \n                        size={this.state.currentSize} \n                        brushType = {this.state.currentBrushType}\n                        canvasBackground={this.state.currentCanvasBackground}\n                        currentBGImage = {this.state.currentBGImage}\n                        passRef = {this.passRef}\n                        action = {this.state.currentAction}\n                        importJson = {this.state.importJson}\n      />\n\n      <CustomModalComponent show={this.state.showImageUploadBox} closeCallBack = {this.setCurrentBGImage}>\n        <ImageUploadComponent  setCurrentBGImage = {this.setCurrentBGImage}/>\n      </CustomModalComponent>\n\n      <CustomModalComponent show={this.state.importJsonFlag} closeCallBack = {this.setImportJson}>\n        <ImportJsonComponent  setImportJson = {this.setImportJson}/>\n      </CustomModalComponent>\n\n      <CustomModalComponent show={this.state.saveConfirmFlag} closeCallBack = {() => this.setSaveConfirmFlag(false)}>\n        <ConfirmBoxComponent messgae=\"Do you want to save the changes?\" button1=\"Yes\" button2=\"No\" button1CallBack={() => this.setCurrentAction('save')} button2Callback={() => this.setCurrentAction('new', true)} />\n      </CustomModalComponent>\n    </div>);\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}